(this["webpackJsonpjournal-app"]=this["webpackJsonpjournal-app"]||[]).push([[0],{148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=(a(60),a(5)),i=a(13),u=a(12),s=a(3),m=a(20),d=a.n(m);a(65),a(69);d.a.initializeApp({apiKey:"AIzaSyBjfxnd73TlrN_6yP4SCNgkvMbyXTCFFyY",authDomain:"react-curso-udemy-9b1d3.firebaseapp.com",databaseURL:"https://react-curso-udemy-9b1d3.firebaseio.com",projectId:"react-curso-udemy-9b1d3",storageBucket:"react-curso-udemy-9b1d3.appspot.com",messagingSenderId:"672484412531",appId:"1:672484412531:web:bb586f0b1276360a96ee06"});var p=d.a.firestore(),E=new d.a.auth.GoogleAuthProvider,g=a(25),f=a(4),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(i.a)(t,2),r=a[0],c=a[1],o=function(){c(e)},l=function(e){var t=e.target;c(Object(f.a)(Object(f.a)({},r),{},Object(g.a)({},t.name,t.value)))};return[r,l,o]},b=a(11),v=a.n(b),_=a(14),y="[Auth] Login",N="[Auth] Logout",j="[UI] Set Error",w="[UI] Remove Error",O="[UI] Start loading",x="[UI] Finish loading",S="[Notes] Set active note",k=function(e){return{type:j,payload:e}},I=function(){return{type:x,payload:!1}},C=a(34),L=a.n(C),P=function(e,t){return function(a){a({type:O,payload:!0}),d.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(A(t.uid,t.displayName)),a(I())})).catch((function(e){console.log(e),a(I()),L.a.fire("Error",e.message,"error")}))}},A=function(e,t){return{type:y,payload:{uid:e,displayName:t}}},U=function(){return{type:N}},D=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.ui})).loading,a=h({email:"nando@gmail.com",password:"123456"}),n=Object(i.a)(a,2),c=n[0],o=n[1],s=c.email,m=c.password;return r.a.createElement("div",null,r.a.createElement("h3",{className:"auth__title"},"Login "),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(P(s,m))}},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:s,className:"auth__input",onChange:o}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:m,className:"auth__input",onChange:o}),r.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit",disabled:t},"Login"),r.a.createElement("hr",null),r.a.createElement("div",{className:"auth__social-networks"},r.a.createElement("p",null,"Login With Social network "),r.a.createElement("div",{className:"google-btn",onClick:function(){e((function(e){d.a.auth().signInWithPopup(E).then((function(t){var a=t.user;e(A(a.uid,a.displayName))}))}))}},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})),r.a.createElement("p",{className:"btn-text"},r.a.createElement("b",null,"Sign in with google")))),r.a.createElement(u.b,{to:"/auth/register",className:"link"},"Create New Acountt")))},R=a(53),T=a.n(R),W=function(){var e=h({name:"Hernando",email:"nando@gmail.com",password:"123456",password2:"123456"}),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(l.b)(),o=Object(l.c)((function(e){return e.ui})).msgError;console.log(o);var s=a.name,m=a.email,p=a.password,E=a.password2,g=function(){if(0===s.trim().length){return c(k("name is required")),!1}return T.a.isEmail(m)?p!==E||p.length<5?(console.log("Minimo 6 caracteres para la contrase\xf1a o no concuerdan las passwords"),c(k("minimo 6 caracteres")),!1):(c({type:w}),!0):(console.log("email no es valido"),c(k("email no es valido")),!1)};return r.a.createElement("div",null,r.a.createElement("h3",{className:"auth__title"},"Register "),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g()&&c(function(e,t,a){return function(n){d.a.auth().createUserWithEmailAndPassword(t,a).then(function(){var t=Object(_.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.user,t.next=3,r.updateProfile({displayName:e});case 3:n(A(r.uid,r.displayName));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e),L.a.fire("Error",e.message,"error")}))}}(s,m,p))}},null!==o&&r.a.createElement("div",{className:"auth__alert-error"},o),r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",className:"auth__input",autoComplete:"off",onChange:n,value:s}),r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",onChange:n,value:m}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",onChange:n,value:p}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password ",name:"password2",className:"auth__input",onChange:n,value:E}),r.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Register"),r.a.createElement("hr",null),r.a.createElement(u.b,{to:"/auth/login",className:"link mt-1"},"Already Registered ?")))},M=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/auth/login",component:D}),r.a.createElement(s.b,{exact:!0,path:"/auth/register",component:W}),r.a.createElement(s.a,{to:"/auth/login"}))))},z=function(){return r.a.createElement("div",{className:"journal__entry pointer"},r.a.createElement("div",{className:"journal__entry-pictures",style:{backgroundSize:"cover",backgroundImage:"url(https://static1.millenium.gg/articles/9/22/20/9/@/103617-victorialolbien1-article_m-1.jpg)"}}),r.a.createElement("div",{className:"journal__entry-body"},r.a.createElement("p",{className:"journal__entry-title"},"Un nuevo Dia"),r.a.createElement("p",{className:"journal__entry-content"},"Repreehendr it in duis consetur")),r.a.createElement("div",{className:"journal__entry-date-box"},r.a.createElement("span",null,"Monday"),r.a.createElement("h4",null,"28")))},B=function(){return r.a.createElement("div",{className:"journal__entries"},[1,2,3,4,5,6,7,8,9,10].map((function(e){return r.a.createElement(z,{key:e})})))},F=function(e,t){return{type:S,payload:Object(f.a)({id:e},t)}},G=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth})).name;return r.a.createElement("aside",{className:"journal__sidebar"},r.a.createElement("div",{className:"journal__sidebar-navbar"},r.a.createElement("h3",{className:"mt-5"},r.a.createElement("i",{className:"far fa-moon"}),r.a.createElement("span",null,t)),r.a.createElement("button",{className:"btn",onClick:function(t){e(function(){var e=Object(_.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.auth().signOut();case 2:t(U());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Log out")),r.a.createElement("div",{className:"journal__new-entry",onClick:function(){e(function(){var e=Object(_.a)(v.a.mark((function e(t,a){var n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.uid,console.log(n),r={tite:"",body:"",date:(new Date).getTime()},e.next=5,p.collection("".concat(n,"/journal/notes")).add(r);case 5:c=e.sent,console.log(c),t(F(c.id,r));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},r.a.createElement("i",{className:"far fa-calendar-plus fa-5x"}),r.a.createElement("p",{className:"mt-5"},"New Entry")),r.a.createElement(B,null))},X=function(){return r.a.createElement("div",{className:"nothing__main-content"},r.a.createElement("p",null,"Select Something",r.a.createElement("br",null),"pr create an entry !"),r.a.createElement("i",{className:"far fa-star fa-4x mt-5"}))},J=function(){return r.a.createElement("div",{className:"notes__appbar"},r.a.createElement("span",null,"28 de agosto 2020"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn"},"Picture"),r.a.createElement("button",{className:"btn"},"SAVE")))},V=function(){return r.a.createElement("div",{className:"notes__main-content"},r.a.createElement(J,null),r.a.createElement("div",{className:"notes__content "},r.a.createElement("input",{type:"text",placeholder:"Some awesome title",className:"notes__title-input"}),r.a.createElement("textarea",{placeholder:"what happened today",className:"notes__textarea"}),r.a.createElement("div",{className:"notes__image"},r.a.createElement("img",{alt:"imagen",src:"https://www.12minutos.com/thumb/4/6/9/3/0/6/6930670edbfc237b7c83f20ae6c87c7d.jpg"}))))},q=function(){var e=Object(l.c)((function(e){return e.notes})).active;return r.a.createElement("div",{className:"journal__main-content"},r.a.createElement(G,null),r.a.createElement("main",null,e?r.a.createElement(V,null):r.a.createElement(X,null)))},H=a(26),K=function(e){var t=e.isLoggedIn,a=e.component,n=Object(H.a)(e,["isLoggedIn","component"]);return localStorage.setItem("lastPath",n.location.pathname),r.a.createElement(s.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(s.a,{to:"/login"})}}))},Y=function(e){var t=e.isLoggedIn,a=e.component,n=Object(H.a)(e,["isLoggedIn","component"]);return r.a.createElement(s.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(s.a,{to:"/"}):r.a.createElement(a,e)}}))},Q=function(){var e=Object(_.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("".concat(t,"/journal/notes")).get();case 2:return a=e.sent,n=[],a.forEach((function(e){n.push(Object(f.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.b)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],o=a[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),E=p[0],g=p[1];return Object(n.useEffect)((function(){d.a.auth().onAuthStateChanged((function(t){(null===t||void 0===t?void 0:t.uid)?(e(A(t.uid,t.displayName)),g(!0),Q(t.uid)):g(!1),o(!1)}))}),[e,o,g]),c?r.a.createElement("h1",null," Wait..."):r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(s.d,null,r.a.createElement(Y,{isLoggedIn:E,path:"/auth",component:M}),r.a.createElement(K,{isLoggedIn:E,exact:!0,path:"/",component:q}),r.a.createElement(s.a,{to:"/auth/login"}))))},$=a(15),ee=a(54),te={loading:!1,msgError:null},ae={notes:[],active:null},ne="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.d,re=Object($.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{uid:t.payload.uid,name:t.payload.displayName};case N:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(f.a)(Object(f.a)({},e),{},{msgError:t.payload});case w:return Object(f.a)(Object(f.a)({},e),{},{msgError:null});case O:return{loading:!0};case x:return{loading:!1};default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(f.a)(Object(f.a)({},e),{},{active:Object(f.a)({},t.payload)});default:return e}}}),ce=Object($.e)(re,ne(Object($.a)(ee.a))),oe=function(){return r.a.createElement(l.a,{store:ce},r.a.createElement(Z,null))};o.a.render(r.a.createElement(oe,null),document.getElementById("root"))},55:function(e,t,a){e.exports=a(148)},60:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.cbd9f5f8.chunk.js.map